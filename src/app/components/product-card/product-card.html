<div class="product-card">
  <img [src]="product.imageUrl" alt="{{ product.name }}" />

  <div class="product-card__body">
    <div class="product-card__detail">
      <h3>{{ product.name }}</h3>
    <p>{{ product.description }}</p>
    </div>

    <p class="product-card__price">
      <ng-container *ngIf="product.offer && product.offerPrice; else normalPrice">
        <span class="original-price">{{ product.price | currency:'BRL' }}</span>
        <span class="offer-price">{{ product.offerPrice | currency:'BRL' }}</span>
        <span class="discount-percent">
          ({{ calculateDiscount(product.price, product.offerPrice) }}% OFF)
        </span>
      </ng-container>

      <ng-template #normalPrice>
        <span class="normal-price">{{ product.price | currency:'BRL' }}</span>
      </ng-template>
    </p>

    <div class="product-card__buttons">
      <a [routerLink]="['/product', product.id]">Ver detalhes</a>

      <button class="product-card__btn-cart" (click)="addToCart(product)">
        Adicionar ao carrinho
      </button>
    </div>
  </div>

  <app-modal [product]="selectedProduct" [show]="showModal" (close)="closeModal()"
    (confirm)="onConfirmAdd($event)"></app-modal>
</div>