<div class="product-card">
  <img [src]="product.imageUrl" alt="{{ product.name }}" />

  <div class="product-card__body">
    <div class="product-card__detail">
      <h3>{{ product.name }}</h3>
      <p>{{ product.description }}</p>
    </div>

    <p class="product-card__price">
      <ng-container *ngIf="product.offer && product.offerPrice; else normalPrice">
        <span class="original-price">{{ product.price | currency:'BRL' }}</span>
        <span class="offer-price">{{ product.offerPrice | currency:'BRL' }}</span>
        <span class="discount-percent">
          ({{ calculateDiscount(product.price, product.offerPrice) }}% {{ 'PRODUCT_CARD.OFF' | translate }})
        </span>
      </ng-container>

      <ng-template #normalPrice>
        <span class="normal-price">{{ product.price | currency:'BRL' }}</span>
      </ng-template>
    </p>

    <div class="product-card__buttons">
      <a class="product-card__btn-details" [routerLink]="['/product', product.id]">
        {{ 'PRODUCT_CARD.VIEW_DETAILS' | translate }}
      </a>

      <button class="product-card__btn-cart" (click)="addToCart(product)">
        {{ 'PRODUCT_CARD.ADD_TO_CART' | translate }}
      </button>
    </div>
  </div>

  <app-modal
    [product]="selectedProduct"
    [show]="showModal"
    (close)="closeModal()"
    (confirm)="onConfirmAdd($event)">
  </app-modal>
</div>